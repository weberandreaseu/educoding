<h1><%= generate_title (@task)%></h1>

<%= simple_form_for @task do |f| %>
  <%= f.input :title %>
  <%= f.hidden_field :description, id: 'editor_description_code' %>
  <%= f.input :score %>

  <%= f.label :description %>
  <div id="editor_description"><%= @task.description %></div>
  
  <h2>Scaffold</h2>

  <div id="class_files">
    <ul id="class_file_tabs" class="nav nav-tabs">
      <%= f.simple_fields_for :class_files do |class_file| %>
        <%= render 'partials/class_file', f: class_file %>
      <% end %>

      <li class="links nav-item">
        <%= link_to_add_association 'add file', f, :class_files, id: 'add_class_file', class: 'nav-link', partial: 'partials/class_file_fields' %>
      </li>
    </ul>

    <div id="class-file-panes" class="tab-content">
      <%= f.simple_fields_for :class_files do |class_file| %>
        <div id="class_file_<%= class_file.object.id %>" class="tab-pane" role="tabpanel"><%= class_file.object.code %></div>
      <% end %>
    </div>

  </div>

  <%= f.submit class: 'btn btn-primary', id: 'add-class-file' %>
<% end %>